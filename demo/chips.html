<html>
	<head>
		<script type="module">
			import '@webcomponents/webcomponentsjs/webcomponents-loader.js';
			import '@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
			import '@polymer/iron-demo-helpers/demo-snippet.js';
			import '@polymer/paper-checkbox';
			import '../paper-chips.js';
		</script>
		<custom-style>
				<style is="custom-style" include="demo-pages-shared-styles">
					body{
						font-family:roboto;
					}
				</style>
		</custom-style>
	</head>

	<body>
		<div class="vertical-section-container centered">

				<h3>Paper Chips with property selection</h2>
			<demo-snippet>
				<template>
					<dom-bind>
						<template>
							<paper-autocomplete id="nameInput" show-results-on-focus="true" label="New Fruit Name" text-property="name"></paper-autocomplete>
							<br>
							<br>
							<br>
							<paper-chips id="chips" text-property="name" items="[[fruits]]" empty="{{empty}}" on-delete-item="onRemove"></paper-chips><br>
						</template>
					</dom-bind>

					<script>
						document.addEventListener('DOMContentLoaded', (event) => {
							var scope = document.querySelector('dom-bind');
							scope.fruits = [
								{ id: 'apples', name: 'Apples' },
								"Orange",
								{ id: 'ananas', name: 'Ananas' }
							];
							scope.sendInput = function(evt) {
								console.log(evt);
								if(evt.code === 'Enter'){
									scope.onAdd();
								}
							}
							scope.$.nameInput.addEventListener('keypress', scope.sendInput);
							scope.onAdd = function() {
								this.$.chips.add({ name: this.$.nameInput.text });
							}

							scope.onRemove = function(e) {
								const {itemId} = e.detail;
								alert(`Removed item: ${itemId}`);
							}
						})
					</script>
				</template>
			</demo-snippet>
		</div>
	</body>
</html>
