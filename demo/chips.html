<html>
	<head>
		<script type="module">
			import '@webcomponents/webcomponentsjs/webcomponents-loader.js';
			import '@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
			import '@polymer/iron-demo-helpers/demo-snippet.js';
			import '@polymer/paper-checkbox';
			import '../paper-chips.js';
		</script>
	</head>

	<body>
		<demo-snippet>
			<template>
				<h2>&lt;paper-chips&gt;</h2>
				<dom-bind>
					<template>
						<paper-chips id="chips" text-property="name" items="[[fruits]]" empty="{{empty}}" on-delete-item="onRemove"></paper-chips><br>
						
						<input value="{{newFruit::input}}"></input>
						<paper-autocomplete id="first" show-results-on-focus="true" label="Search Fruits" text-property="name">
							<paper-icon-button slot="suffix" suffix icon="icons:search"></paper-icon-button>
						</paper-autocomplete>
						<button on-tap="onAdd">Add</button>
						<button on-tap="onRemoveLast">Remove last chip</button><br>
						Is empty? [[empty]]
					</template>
				</dom-bind>

				<script>
					var scope = document.querySelector('dom-bind');
					scope.fruits = [
						{ id: 'apples', name: 'Apples' },
						"Orange",
						["imma intruder 1", "imma intruder 2"],
						4,
						{ id: 'ananas', name: 'Ananas' }
					];

					scope.onAdd = function() {
						this.$.chips.add({ name: this.newFruit });
					}
					scope.onRemoveLast = function() {
						this.$.chips.removeLast();
					}
					scope.onRemove = function(e) {
						const {itemId} = e.detail;
						alert(`Removed item: ${itemId}`);
					}
				</script>
			</template>
		</demo-snippet>
	</body>
</html>
